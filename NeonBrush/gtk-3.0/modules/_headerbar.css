/* ==========================================================================
   HEADERBAR - NEONBRUSH GTK3 (ESTABILIZADO FINAL)
   ========================================================================== */

/* --------------------------------------------------
 * HEADERBAR BASE (activo)
 * -------------------------------------------------- */
headerbar {
    min-height: 38px; /* Un poco más alto para que el brillo respire mejor */
    background-color: @bg_surface;
    background-clip: padding-box;
    /* Línea inferior neón: clave de tu estética */
    border-bottom: 1px solid @anime_cyan; 
    box-shadow: inset 0 1px alpha(white, 0.05); /* Brillo sutil en el borde superior */
    border-radius: 6px 6px 0 0;
    transition: all 200ms ease;
}

/* TÍTULO - Con el brillo característico */
headerbar .title {
    color: @text_main;
    font-weight: 700; /* Un poco más de peso para el monitor 1080p */
    text-shadow: 0 0 8px @anime_cyan_glow;
}

/* --------------------------------------------------
 * HEADERBAR INACTIVO (BACKDROP)
 * -------------------------------------------------- */
headerbar:backdrop {
    background-color: @bg_base;
    border-bottom: 1px solid alpha(@anime_cyan, 0.15);
    box-shadow: none;
}

headerbar:backdrop .title {
    color: @text_dim;
    text-shadow: none;
    opacity: 0.6;
}

/* --------------------------------------------------
 * CONTENEDOR TITLEBAR (Metacity / Cinnamon / XFCE)
 * -------------------------------------------------- */
.titlebar {
    background-color: @bg_base;
    /* Ajustado a 6px para que coincida exactamente con el headerbar */
    border-radius: 6px 6px 0 0;
    border: none;
    box-shadow: none;
}

/* --------------------------------------------------
 * BOTONES EN EL HEADERBAR (Ventana: Cerrar, Max, Min)
 * -------------------------------------------------- */
headerbar button.titlebutton {
    /* Aquí aplicamos tus 4px de "control" */
    border-radius: 4px; 
    padding: 4px;
    margin: 4px;
    min-width: 24px;
    min-height: 24px;
}

/* Efecto especial para el botón de cerrar al estilo NeonBrush */
headerbar button.titlebutton.close:hover {
    background-color: @osu_pink;
    color: white;
    box-shadow: 0 0 8px @osu_pink_glow;
}

/* --------------------------------------------------
 * LIMPIEZA DE BORDES (Tiling y Maximizado)
 * -------------------------------------------------- */
/* Si la ventana está maximizada, eliminamos los radios para no ver huecos */
window.maximized headerbar,
window.maximized .titlebar {
    border-radius: 0;
}

/* Eliminar separadores fantasmales de GTK */
window.csd separator {
    opacity: 0;
    min-height: 0;
}
